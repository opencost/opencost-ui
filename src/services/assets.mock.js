// Comprehensive mock data for the OpenCost Assets API
// Mirrors the real API response structure from /model/assets?window=7d&aggregate=type&accumulate=true
// Used as automatic fallback when the backend is unavailable

/**
 * Returns mock data matching the real Assets API response format.
 * The API returns data as { code: 200, data: [ { "AssetName": { ...assetObject }, ... } ] }
 * When accumulated by type, keys are type names (Node, Disk, LoadBalancer, etc.)
 * When not accumulated, each entry in data[] is one day's worth of assets.
 */
export function getAssetsMockData(aggregate = "type", accumulate = true) {
  if (accumulate) {
    return {
      code: 200,
      data: [getMockAssetsByType()],
    };
  }
  // Non-accumulated: return 7 days of daily data
  return {
    code: 200,
    data: generateDailyData(7),
  };
}

function getMockAssetsByType() {
  return {
    "node/gke-cluster-1-pool-a-abc123": {
      type: "Node",
      properties: {
        category: "Compute",
        provider: "GCP",
        project: "my-gcp-project-123",
        service: "Kubernetes",
        cluster: "cluster-one",
        name: "gke-cluster-1-pool-a-abc123",
        providerID: "gce://my-gcp-project-123/us-central1-a/gke-cluster-1-pool-a-abc123",
      },
      labels: {
        "label_topology_kubernetes_io_region": "us-central1",
        "label_topology_kubernetes_io_zone": "us-central1-a",
        "label_kubernetes_io_arch": "amd64",
        "label_cloud_google_com_gke_boot_disk": "pd-standard",
        "namespace": "kube-system",
      },
      window: { start: "2023-07-18T00:00:00Z", end: "2023-07-25T00:00:00Z" },
      start: "2023-07-18T00:00:00Z",
      end: "2023-07-24T17:10:00Z",
      minutes: 9670.0,
      nodeType: "e2-standard-4",
      cpuCores: 4.0,
      ramBytes: 16106127360.0,
      cpuCoreHours: 644.67,
      ramByteHours: 2597038096384.0,
      GPUHours: 0.0,
      cpuBreakdown: { idle: 0.72, other: 0.01, system: 0.03, user: 0.24 },
      ramBreakdown: { idle: 0.88, other: 0.0, system: 0.02, user: 0.10 },
      preemptible: 0.0,
      discount: 0.20,
      cpuCost: 42.18,
      gpuCost: 0.0,
      gpuCount: 0.0,
      ramCost: 18.65,
      adjustment: -12.50,
      totalCost: 48.33,
    },
    "node/gke-cluster-1-pool-a-def456": {
      type: "Node",
      properties: {
        category: "Compute",
        provider: "GCP",
        project: "my-gcp-project-123",
        service: "Kubernetes",
        cluster: "cluster-one",
        name: "gke-cluster-1-pool-a-def456",
        providerID: "gce://my-gcp-project-123/us-central1-a/gke-cluster-1-pool-a-def456",
      },
      labels: {
        "label_topology_kubernetes_io_region": "us-central1",
        "label_topology_kubernetes_io_zone": "us-central1-a",
        "label_kubernetes_io_arch": "amd64",
        "namespace": "default",
      },
      window: { start: "2023-07-18T00:00:00Z", end: "2023-07-25T00:00:00Z" },
      start: "2023-07-18T00:00:00Z",
      end: "2023-07-24T17:10:00Z",
      minutes: 9670.0,
      nodeType: "e2-standard-8",
      cpuCores: 8.0,
      ramBytes: 32212254720.0,
      cpuCoreHours: 1289.33,
      ramByteHours: 5194076192768.0,
      GPUHours: 0.0,
      cpuBreakdown: { idle: 0.55, other: 0.02, system: 0.05, user: 0.38 },
      ramBreakdown: { idle: 0.65, other: 0.0, system: 0.03, user: 0.32 },
      preemptible: 0.0,
      discount: 0.22,
      cpuCost: 84.36,
      gpuCost: 0.0,
      gpuCount: 0.0,
      ramCost: 37.30,
      adjustment: -25.80,
      totalCost: 95.86,
    },
    "node/gke-cluster-1-gpu-pool-gh789": {
      type: "Node",
      properties: {
        category: "Compute",
        provider: "GCP",
        project: "my-gcp-project-123",
        service: "Kubernetes",
        cluster: "cluster-one",
        name: "gke-cluster-1-gpu-pool-gh789",
        providerID: "gce://my-gcp-project-123/us-central1-c/gke-cluster-1-gpu-pool-gh789",
      },
      labels: {
        "label_topology_kubernetes_io_region": "us-central1",
        "label_cloud_google_com_gke_accelerator": "nvidia-tesla-t4",
        "namespace": "ml-training",
      },
      window: { start: "2023-07-18T00:00:00Z", end: "2023-07-25T00:00:00Z" },
      start: "2023-07-18T00:00:00Z",
      end: "2023-07-24T17:10:00Z",
      minutes: 9670.0,
      nodeType: "n1-standard-8",
      cpuCores: 8.0,
      ramBytes: 30064771072.0,
      cpuCoreHours: 1289.33,
      ramByteHours: 4843418746880.0,
      GPUHours: 161.17,
      cpuBreakdown: { idle: 0.40, other: 0.01, system: 0.04, user: 0.55 },
      ramBreakdown: { idle: 0.35, other: 0.0, system: 0.01, user: 0.64 },
      preemptible: 0.0,
      discount: 0.0,
      cpuCost: 76.12,
      gpuCost: 245.80,
      gpuCount: 1.0,
      ramCost: 32.50,
      adjustment: 0.0,
      totalCost: 354.42,
    },
    "disk/pvc-abc12345-prod-postgres": {
      type: "Disk",
      properties: {
        category: "Storage",
        provider: "GCP",
        project: "my-gcp-project-123",
        service: "Kubernetes",
        cluster: "cluster-one",
        name: "pvc-abc12345-prod-postgres",
        providerID: "gce://my-gcp-project-123/us-central1-a/pvc-abc12345",
      },
      labels: { "namespace": "production" },
      window: { start: "2023-07-18T00:00:00Z", end: "2023-07-25T00:00:00Z" },
      start: "2023-07-18T00:00:00Z",
      end: "2023-07-24T17:10:00Z",
      minutes: 9670.0,
      byteHours: 53694344346624.0,
      bytes: 333147348480.0,
      byteHoursUsed: 8054151651942.4,
      byteUsageMax: null,
      breakdown: { idle: 0.85, other: 0, system: 0.15, user: 0 },
      adjustment: -2.10,
      totalCost: 8.45,
      storageClass: "pd-ssd",
      volumeName: "pvc-abc12345",
      claimName: "data-postgres-0",
      claimNamespace: "production",
    },
    "disk/pvc-def67890-redis-data": {
      type: "Disk",
      properties: {
        category: "Storage",
        provider: "GCP",
        project: "my-gcp-project-123",
        service: "Kubernetes",
        cluster: "cluster-one",
        name: "pvc-def67890-redis-data",
        providerID: "gce://my-gcp-project-123/us-central1-a/pvc-def67890",
      },
      labels: { "namespace": "cache" },
      window: { start: "2023-07-18T00:00:00Z", end: "2023-07-25T00:00:00Z" },
      start: "2023-07-18T00:00:00Z",
      end: "2023-07-24T17:10:00Z",
      minutes: 9670.0,
      byteHours: 10738868869324.8,
      bytes: 66629469696.0,
      byteHoursUsed: 3221660660797.44,
      byteUsageMax: null,
      breakdown: { idle: 0.70, other: 0, system: 0.30, user: 0 },
      adjustment: -0.50,
      totalCost: 3.20,
      storageClass: "pd-standard",
      volumeName: "pvc-def67890",
      claimName: "data-redis-master-0",
      claimNamespace: "cache",
    },
    "disk/pvc-ghi11223-elasticsearch": {
      type: "Disk",
      properties: {
        category: "Storage",
        provider: "GCP",
        project: "my-gcp-project-123",
        service: "Kubernetes",
        cluster: "cluster-one",
        name: "pvc-ghi11223-elasticsearch",
        providerID: "gce://my-gcp-project-123/us-central1-b/pvc-ghi11223",
      },
      labels: { "namespace": "monitoring" },
      window: { start: "2023-07-18T00:00:00Z", end: "2023-07-25T00:00:00Z" },
      start: "2023-07-18T00:00:00Z",
      end: "2023-07-24T17:10:00Z",
      minutes: 9670.0,
      byteHours: 107388688693248.0,
      bytes: 666294696960.0,
      byteHoursUsed: 64433213215948.8,
      byteUsageMax: null,
      breakdown: { idle: 0.40, other: 0, system: 0.60, user: 0 },
      adjustment: -3.20,
      totalCost: 18.70,
      storageClass: "pd-ssd",
      volumeName: "pvc-ghi11223",
      claimName: "data-elasticsearch-0",
      claimNamespace: "monitoring",
    },
    "loadbalancer/ingress-nginx-controller": {
      type: "LoadBalancer",
      properties: {
        category: "Network",
        provider: "GCP",
        project: "my-gcp-project-123",
        service: "Kubernetes",
        cluster: "cluster-one",
        name: "ingress-nginx/ingress-nginx-controller",
        providerID: "35.202.154.180",
      },
      labels: { "namespace": "ingress-nginx" },
      window: { start: "2023-07-18T00:00:00Z", end: "2023-07-25T00:00:00Z" },
      start: "2023-07-18T00:00:00Z",
      end: "2023-07-24T17:10:00Z",
      minutes: 9670.0,
      adjustment: 0.0,
      totalCost: 12.85,
    },
    "loadbalancer/api-gateway-lb": {
      type: "LoadBalancer",
      properties: {
        category: "Network",
        provider: "GCP",
        project: "my-gcp-project-123",
        service: "Kubernetes",
        cluster: "cluster-one",
        name: "api-gateway/api-gateway-lb",
        providerID: "35.202.155.200",
      },
      labels: { "namespace": "api-gateway" },
      window: { start: "2023-07-18T00:00:00Z", end: "2023-07-25T00:00:00Z" },
      start: "2023-07-18T00:00:00Z",
      end: "2023-07-24T17:10:00Z",
      minutes: 9670.0,
      adjustment: 0.0,
      totalCost: 12.85,
    },
    "network/cluster-one-network": {
      type: "Network",
      properties: {
        category: "Network",
        provider: "GCP",
        project: "my-gcp-project-123",
        service: "Kubernetes",
        cluster: "cluster-one",
      },
      labels: { "namespace": "kube-system" },
      window: { start: "2023-07-18T00:00:00Z", end: "2023-07-25T00:00:00Z" },
      start: "2023-07-18T00:00:00Z",
      end: "2023-07-23T00:00:00Z",
      minutes: 7200.0,
      adjustment: -0.0,
      totalCost: 6.82,
    },
    "clustermanagement/cluster-one-mgmt": {
      type: "ClusterManagement",
      properties: {
        category: "Management",
        provider: "GCP",
        project: "my-gcp-project-123",
        service: "Kubernetes",
        cluster: "cluster-one",
      },
      labels: {
        "namespace": "kube-system",
        "cost-center": "engineering",
      },
      window: { start: "2023-07-18T00:00:00Z", end: "2023-07-25T00:00:00Z" },
      start: "2023-07-18T00:00:00Z",
      end: "2023-07-25T00:00:00Z",
      minutes: 10080.0,
      totalCost: 24.10,
    },
    "node/ip-10-0-1-50.ec2.internal": {
      type: "Node",
      properties: {
        category: "Compute",
        provider: "AWS",
        project: "123456789012",
        service: "EKS",
        cluster: "cluster-two",
        name: "ip-10-0-1-50.ec2.internal",
        providerID: "aws:///us-east-1a/i-0abc123def456",
      },
      labels: {
        "label_topology_kubernetes_io_region": "us-east-1",
        "label_node_kubernetes_io_instance_type": "m5.xlarge",
        "namespace": "default",
      },
      window: { start: "2023-07-18T00:00:00Z", end: "2023-07-25T00:00:00Z" },
      start: "2023-07-18T00:00:00Z",
      end: "2023-07-24T17:10:00Z",
      minutes: 9670.0,
      nodeType: "m5.xlarge",
      cpuCores: 4.0,
      ramBytes: 16106127360.0,
      cpuCoreHours: 644.67,
      ramByteHours: 2597038096384.0,
      GPUHours: 0.0,
      cpuBreakdown: { idle: 0.60, other: 0.02, system: 0.03, user: 0.35 },
      ramBreakdown: { idle: 0.70, other: 0.0, system: 0.05, user: 0.25 },
      preemptible: 0.0,
      discount: 0.30,
      cpuCost: 38.50,
      gpuCost: 0.0,
      gpuCount: 0.0,
      ramCost: 16.20,
      adjustment: -15.40,
      totalCost: 39.30,
    },
    "node/ip-10-0-2-80.ec2.internal": {
      type: "Node",
      properties: {
        category: "Compute",
        provider: "AWS",
        project: "123456789012",
        service: "EKS",
        cluster: "cluster-two",
        name: "ip-10-0-2-80.ec2.internal",
        providerID: "aws:///us-east-1b/i-0def456ghi789",
      },
      labels: {
        "label_topology_kubernetes_io_region": "us-east-1",
        "label_node_kubernetes_io_instance_type": "m5.2xlarge",
        "namespace": "production",
      },
      window: { start: "2023-07-18T00:00:00Z", end: "2023-07-25T00:00:00Z" },
      start: "2023-07-18T00:00:00Z",
      end: "2023-07-24T17:10:00Z",
      minutes: 9670.0,
      nodeType: "m5.2xlarge",
      cpuCores: 8.0,
      ramBytes: 32212254720.0,
      cpuCoreHours: 1289.33,
      ramByteHours: 5194076192768.0,
      GPUHours: 0.0,
      cpuBreakdown: { idle: 0.45, other: 0.01, system: 0.04, user: 0.50 },
      ramBreakdown: { idle: 0.50, other: 0.0, system: 0.05, user: 0.45 },
      preemptible: 0.0,
      discount: 0.30,
      cpuCost: 77.00,
      gpuCost: 0.0,
      gpuCount: 0.0,
      ramCost: 32.40,
      adjustment: -30.80,
      totalCost: 78.60,
    },
    "disk/pvc-aws-ebs-app-data": {
      type: "Disk",
      properties: {
        category: "Storage",
        provider: "AWS",
        project: "123456789012",
        service: "EKS",
        cluster: "cluster-two",
        name: "pvc-aws-ebs-app-data",
        providerID: "aws:///us-east-1a/vol-0abc123",
      },
      labels: { "namespace": "production" },
      window: { start: "2023-07-18T00:00:00Z", end: "2023-07-25T00:00:00Z" },
      start: "2023-07-18T00:00:00Z",
      end: "2023-07-24T17:10:00Z",
      minutes: 9670.0,
      byteHours: 32212254720000.0,
      bytes: 200000000000.0,
      byteHoursUsed: 16106127360000.0,
      byteUsageMax: null,
      breakdown: { idle: 0.50, other: 0, system: 0.50, user: 0 },
      adjustment: -1.10,
      totalCost: 5.80,
      storageClass: "gp3",
      volumeName: "pvc-aws-ebs-1",
      claimName: "app-data-0",
      claimNamespace: "production",
    },
    "network/cluster-two-network": {
      type: "Network",
      properties: {
        category: "Network",
        provider: "AWS",
        project: "123456789012",
        service: "EKS",
        cluster: "cluster-two",
      },
      labels: { "namespace": "kube-system" },
      window: { start: "2023-07-18T00:00:00Z", end: "2023-07-25T00:00:00Z" },
      start: "2023-07-18T00:00:00Z",
      end: "2023-07-23T00:00:00Z",
      minutes: 7200.0,
      adjustment: -0.0,
      totalCost: 4.55,
    },
    "clustermanagement/cluster-two-mgmt": {
      type: "ClusterManagement",
      properties: {
        category: "Management",
        provider: "AWS",
        project: "123456789012",
        service: "EKS",
        cluster: "cluster-two",
      },
      labels: {
        "namespace": "kube-system",
      },
      window: { start: "2023-07-18T00:00:00Z", end: "2023-07-25T00:00:00Z" },
      start: "2023-07-18T00:00:00Z",
      end: "2023-07-25T00:00:00Z",
      minutes: 10080.0,
      totalCost: 18.60,
    },
  };
}

function generateDailyData(days) {
  const result = [];
  const base = getMockAssetsByType();
  for (let d = 0; d < days; d++) {
    const dayData = {};
    for (const [key, asset] of Object.entries(base)) {
      const factor = 0.8 + Math.random() * 0.4; // vary costs 80%-120%
      dayData[key] = {
        ...asset,
        totalCost: +(asset.totalCost / 7 * factor).toFixed(2),
        cpuCost: asset.cpuCost ? +(asset.cpuCost / 7 * factor).toFixed(2) : undefined,
        ramCost: asset.ramCost ? +(asset.ramCost / 7 * factor).toFixed(2) : undefined,
        gpuCost: asset.gpuCost ? +(asset.gpuCost / 7 * factor).toFixed(2) : undefined,
      };
    }
    result.push(dayData);
  }
  return result;
}
